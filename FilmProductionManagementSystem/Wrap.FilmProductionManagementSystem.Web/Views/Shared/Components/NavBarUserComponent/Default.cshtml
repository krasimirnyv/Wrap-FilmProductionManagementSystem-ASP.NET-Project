@model Wrap.ViewModels.NavBar.NavBarUserViewModel?

<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
    <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Dashboard">Home</a>
</li>

<li class="nav-item">
    <a class="nav-link" asp-area="" asp-controller="Productions" asp-action="Index">Productions</a>
</li>

<li class="nav-item">
    <a class="nav-link" asp-area="" asp-controller="Scripts" asp-action="Index">Scripts</a>
</li>

<li class="nav-item">
    <a class="nav-link" asp-area="" asp-controller="Schedule" asp-action="Index">Shooting Schedule</a>
</li>

<li class="nav-item">
    <a class="nav-link" asp-area="" asp-controller="Assets" asp-action="Index">Assets</a>
</li>
</ul>

<form class="wrap-search me-4" role="search" asp-controller="Search" asp-action="Index">
    <div class="wrap-search__group">
        <button type="submit" class="wrap-search__icon" aria-label="Search">
            <i class="bi bi-search"></i>
        </button>

        <input class="wrap-search__input"
               type="search"
               name="query"
               placeholder="Search projects, crew, scripts..."
               aria-label="Search" />
    </div>
</form>

@if (User.Identity is { IsAuthenticated: true })
{
    <ul class="navbar-nav">

        <li class="nav-item navbar-brand dropdown">
            <a class="nav-link dropdown-toggle d-flex align-items-center"
               data-bs-toggle="dropdown" role="button" style="cursor:pointer;">

                <span class="me-2">@User.Identity!.Name</span>

                @if (Model?.ProfileImagePath != null)
                {
                    <img src="@Model.ProfileImagePath"
                         alt="Profile"
                         class="rounded-circle"
                         style="width:32px;height:32px;object-fit:cover"/>
                }
            </a>

            <ul class="dropdown-menu dropdown-menu-end">
                <li>
                    <a class="dropdown-item" asp-controller="Profile" asp-action="Index" asp-route-username="@User.Identity.Name" >
                        <i class="bi bi-person me-2"></i>Profile
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" asp-controller="Profile" asp-action="Edit">
                        <i class="bi bi-gear me-2"></i>Edit
                    </a>
                </li>
                <li><hr class="dropdown-divider"/></li>
                <li>
                    <form asp-controller="Register" asp-action="Logout" method="post">
                        <button type="submit" class="dropdown-item text-danger">
                            <i class="bi bi-box-arrow-right me-2"></i>Logout
                        </button>
                    </form>
                </li>
            </ul>
        </li>
    </ul>
}
